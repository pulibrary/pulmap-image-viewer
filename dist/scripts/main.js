!function(e,t,i,n){"use strict";function r(e){var t=(pairtree.path(e)+y).replace(/\//g,"%2F");return u+m+t+"/info.json"}function a(e){var t=r(e);g&&g.destroy();var i={id:"map",prefixUrl:"images/osd/",debugMode:!1,preserveViewport:!0,visibilityRatio:1,minZoomLevel:1,tileSources:[t]};g=OpenSeadragon(i)}function l(e,i){if(Array.isArray(e)){var n,r=e[0];for(n=1;n<e.length;n++)r=r+", "+e[n];e=r}e&&(t.getElementById("item-"+i).innerHTML=e,t.getElementById("item-"+i).style.display="block",t.getElementById("item-"+i+"-label").style.display="block")}function o(e){l(e.dc_title_s,"title"),l(e.dc_creator_sm,"author"),l(e.dc_description_s,"abstract"),l(e.dc_publisher_s,"publisher"),l(e.dc_subject_sm,"subjects"),l(e.dct_spatial_sm,"places"),l(e.solr_year_i,"year"),t.getElementById("item-contact-label").style.display="block",t.getElementById("item-contact").style.display="block"}function s(e){var t=b+e+"/geoblacklight.json";$.getJSON(t,function(e){o(e)})}function c(e){p!==e&&(p=e,a(e),s(e),t.getElementById("map").focus())}function d(){var e={"/:id":c},t=Router(e);t.init()}var p,u="http://libimages.princeton.edu/loris/",m="pulmap",y="00000001.jp2",b="https://geowebservices.princeton.edu/metadata/edu.princeton.arks/",g=null;d()}(window,document,L);