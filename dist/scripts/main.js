!function(e,t,i){"use strict";function n(e){var t=(pairtree.path(e)+y).replace(/\//g,"%2F");return m+u+t+"/info.json"}function c(e){var t=n(e);p&&b.removeLayer(p),p=i.tileLayer.iiif(t,{}).addTo(b)}function a(e,i){if(Array.isArray(e)){var n,c=e[0];for(n=1;n<e.length;n++)c=c+", "+e[n];e=c}e&&(t.getElementById("item-"+i).innerHTML=e,t.getElementById("item-"+i).style.display="block",t.getElementById("item-"+i+"-label").style.display="block")}function r(e){a(e.dc_title_s,"title"),a(e.dc_creator_sm,"author"),a(e.dc_description_s,"abstract"),a(e.dc_publisher_s,"publisher"),a(e.dc_subject_sm,"subjects"),a(e.dct_spatial_sm,"places"),a(e.solr_year_i,"year"),t.getElementById("item-contact-label").style.display="block",t.getElementById("item-contact").style.display="block"}function s(e){var t=f+e+"/geoblacklight.json";$.getJSON(t,function(e){r(e)})}function o(e){d!==e&&(d=e,c(e),s(e),t.getElementById("map").focus())}function l(){var e={"/:id":o},t=Router(e);t.init()}var d,p,m="https://geowebservices.princeton.edu/iiif/",u="pulmap",y="00000001.jp2",f="https://geowebservices.princeton.edu/metadata/edu.princeton.arks/",b=i.map("map",{center:[0,0],crs:i.CRS.Simple,zoom:0});l()}(window,document,L);