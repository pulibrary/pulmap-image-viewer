!function(e,t,i){"use strict";function r(e){var t=(pairtree.path(e)+f).replace(/\//g,"%2F");return p+m+t+"/info.json"}function n(e){var t=r(e);d&&b.removeLayer(d),d=i.tileLayer.iiif(t,{}).addTo(b)}function s(e,i){if(Array.isArray(e)){var r,n=e[0];for(r=1;r<e.length;r++)n=n+", "+e[r];e=n}e&&(t.getElementById("item-"+i).innerHTML=e,t.getElementById("item-"+i).style.visibility="visible",t.getElementById("item-"+i+"-label").style.visibility="visible")}function a(e){s(e.dc_title_s,"title"),s(e.dc_creator_sm,"author"),s(e.dc_description_s,"abstract"),s(e.dc_publisher_s,"publisher"),s(e.dc_subject_sm,"subjects"),s(e.dct_spatial_sm,"places"),s(e.solr_year_i,"year")}function c(e){var t=_+e+"/geoblacklight.json";$.getJSON(t,function(e){a(e)})}function o(e){u!==e&&(u=e,n(e),c(e))}function l(){var e={"/:id":o},t=Router(e);t.init()}var u,d,p="https://geowebservices.princeton.edu/iiif/",m="pulmap",f="00000001.jp2",_="http://geowebservices.princeton.edu/metadata/edu.princeton.arks/",b=i.map("map",{center:[0,0],crs:i.CRS.Simple,zoom:0});l()}(window,document,L);