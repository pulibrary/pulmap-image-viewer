!function(e,t,i,n){"use strict";function c(e){var t=(pairtree.path(e)+f).replace(/\//g,"%2F");return u+y+t+"/info.json"}function a(e){var t=c(e);m&&_.removeLayer(m),m=i.tileLayer.iiif(t,{}).addTo(_)}function r(e,i){if(Array.isArray(e)){var n,c=e[0];for(n=1;n<e.length;n++)c=c+", "+e[n];e=c}e&&(t.getElementById("item-"+i).innerHTML=e,t.getElementById("item-"+i).style.display="block",t.getElementById("item-"+i+"-label").style.display="block")}function s(e){r(e.dc_title_s,"title"),r(e.dc_creator_sm,"author"),r(e.dc_description_s,"abstract"),r(e.dc_publisher_s,"publisher"),r(e.dc_subject_sm,"subjects"),r(e.dct_spatial_sm,"places"),r(e.solr_year_i,"year"),t.getElementById("item-contact-label").style.display="block",t.getElementById("item-contact").style.display="block"}function o(e){var t=b+e+"/geoblacklight.json";$.getJSON(t,function(e){s(e)})}function l(e){p!==e&&(p=e,a(e),o(e),t.getElementById("map").focus())}function d(){var e={"/:id":l},t=Router(e);t.init()}var p,m,u="https://geowebservices.princeton.edu/iiif/",y="pulmap",f="00000001.jp2",b="https://geowebservices.princeton.edu/metadata/edu.princeton.arks/",_=i.map("map",{center:[0,0],crs:i.CRS.Simple,zoom:0});d()}(window,document,L);